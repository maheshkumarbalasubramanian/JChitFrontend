<div class="print-container" *ngIf="loan" id="printArea">
    <!-- Header -->
    <div class="receipt-header">
      <div class="header-left">
        <img src="assets/logo.png" alt="Logo" class="company-logo">
        <div class="loan-number">L.NO : {{ loan.loanNumber }}</div>
      </div>
      
      <div class="header-center">
        <div class="company-name-tamil">ро╕рпНро░рпА ро▓рпЖроХрпНро╖рпНрооро┐ & роХрпЛ</div>
        <div class="company-name">Sri Lakshmi & Co</div>
        <div class="company-address">
          HMS роХро╛роорпНрокрпЖро│роХрпНро╕рпН роУроорпНроорпБро▒рпНроХро│рпН роЖроЯрпНроЯрпЛро╕рпНроЯро╛рокрпНрокро░ро┐ро▓рпН роЕро░рпБроХро┐ро▓рпН<br>
          родро╡ро▒ро╛роЩрпНроХрпБро▒ро┐роЪрпНроЪро┐ - 621314<br>
          9942219882 - 7904001399
        </div>
      </div>
      
      <div class="header-right">
        <div class="amount">тВ╣ {{ loan.loanAmount | number:'1.0-0' }}</div>
        <div class="date">родрпЗродро┐: {{ loan.loanDate | date:'dd-MM-yyyy' }}</div>
        <div class="maturity">роХро╛ро▓ро╛ро╡родро┐ропро╛роХрпБроорпНродрпЗродро┐: {{ loan.maturityDate | date:'dd-MM-yyyy' }}</div>
      </div>
    </div>

    <!-- Scheme Name -->
    <div class="scheme-name">
      родро┐роЯрпНроЯроорпН: {{ schemeName }} {{ loan.dueMonths }} Month
    </div>

    <div class="content-section">
      <!-- Customer Details Section -->
      <div class="customer-section">
        <div class="customer-info">
          <div class="info-title">ро╡ро┐ройрпНройрпИродрпНродрпБро░рпИ</div>
          <div class="customer-name">{{ customerName }}</div>
          <div class="customer-address">{{ customerAddress }}</div>
          <div class="customer-mobile">
            <i class="phone-icon">ЁЯУЮ</i> {{ customerMobile }}
          </div>
          <div class="loan-amount-words">
            роХроЯройрпН родрпКроХрпИ роЕроЪро▓рпН ро░рпВрокро╛ропрпН : {{ getLoanAmountInWords() }}
          </div>
        </div>
      </div>

      <!-- Photos Section -->
      <div class="photos-section">
        <div class="photo-box">
          <img [src]="customerImageUrl" alt="Customer Photo" *ngIf="customerImageUrl">
          <div class="no-photo" *ngIf="!customerImageUrl">No Photo</div>
        </div>
        <div class="photo-box">
          <img [src]="firstItemImage" alt="Item Photo" *ngIf="firstItemImage">
          <div class="no-photo" *ngIf="!firstItemImage">No Photo</div>
        </div>
      </div>
    </div>

    <!-- Items Table -->
    <table class="items-table">
      <thead>
        <tr>
          <th>роЕроЯроХрпБ рокрпКро░рпБроЯрпНроХро│рпН ро╡ро┐рокро░роорпН</th>
          <th>No</th>
          <th>T-W-T</th>
          <th>ST/OT</th>
          <th>G-W-T</th>
          <th>N/W</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of loan.pledgedItems">
          <td>{{ item.itemName }}</td>
          <td>{{ item.qty }}</td>
          <td>{{ item.grossWeight | number:'1.3-3' }}</td>
          <td>{{ item.stoneWeight | number:'1.3-3' }}</td>
          <td>{{ item.grossWeight - item.stoneWeight | number:'1.3-3' }}</td>
          <td>{{ item.netWeight | number:'1.3-3' }}</td>
        </tr>
      </tbody>
    </table>

    <!-- Totals -->
    <div class="totals-section">
      <div class="total-left">
        рокрпКро░рпБроЯрпНроХро│ро┐ройрпН роородро┐рокрпНрокрпБ : {{ loan.totalMaximumValue | number:'1.0-0' }}
      </div>
      <div class="total-right">
        роОроЯрпИ : {{ loan.totalNetWeight | number:'1.3-3' }}
        <span class="separator">роорпКродрпНрод роЙро░рпБрокрпНрокроЯро┐:{{ loan.pledgedItems?.length || 0 }}</span>
      </div>
    </div>

    <!-- Terms and Conditions -->
    <div class="terms-section">
      <div class="business-hours">
        ро╡рпЗро▓рпИ роирпЗро░роорпН : 9:00 A.M to 5:00 P.M. ро╡ро┐роЯрпБроорпБро▒рпИ : роЮро╛ропро┐ро▒рпБроХро│рпНроороЯрпНроЯрпБроорпН рооро▒рпНро▒рпБроорпН роорпБроХрпНроХро┐роп рокрогрпНроЯро┐роХрпИ роиро╛роЯрпНроХро│рпН
      </div>
      
      <div class="terms-text">
        роорпЗро▒рпНроХрогрпНроЯ родро┐роЯрпНроЯродрпНродро┐ройрпНрокроЯро┐ роЕроЯроХрпБ ро╡рпИроХрпНроХ роЪроорпНроородро┐роХрпНроХро┐ро▒рпЗройрпН. роироХрпИроХро│рпИ роорпАроЯрпНроХ родро╡ро▒рпБроороЯрпНроЯродрпНродро┐ро▓рпН роОройрпБроорпН
        ро╡ро┐роЯрпНроЪроорпНроородроорпН родрпЖро░ро┐ро╡ро┐роХрпНроХро┐ро▒рпЗройрпН. роЕродрпНродрпБроЯрой роиро╛ройрпН роТрокрпНрокрпБроХрпНроХрпБ рокроЯро┐ро╡родрпНродро┐ро▓рпН роХрпИропрпКрокрпНрокрооро┐роЯрпНроЯрпБро│рпНро│рпЗройрпН. роЗродройрпИ
        ро╡ро┐роЯ роОройроХрпНроХрпБроорпН роЪроорпНроородро┐роХрпНроХро┐ро▒рпЗройрпН. рокроХрпБродро┐ рооройрпНройройро╛ройрпН роЪроорпНроородро┐роХрпНроХро┐ро▒рпЗройрпН.
      </div>

      <div class="signature-section">
        <div class="customer-signature">
          <div class="signature-line"></div>
          <div class="signature-label">ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН роХрпИропрпКрокрпНрокроорпН (роЕ) роХрпИро░рпЗроХрпИ</div>
        </div>
        
        <div class="company-signature">
          <div class="signature-image">
            <img src="assets/signature.png" alt="Signature" *ngIf="companySignature">
          </div>
          <div class="signature-label">For ро╕рпНро░рпА ро▓рпЖроХрпНро╖рпНрооро┐ & роХрпЛ,</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Print Button (hidden in print) -->
  <div class="print-actions no-print">
    <button (click)="printReceipt()" class="btn-print">
      <i class="fa fa-print"></i> Print Receipt
    </button>
    <button (click)="goBack()" class="btn-back">
      <i class="fa fa-arrow-left"></i> Back
    </button>
  </div>
